/* =============================================================================
   NOSTALGIA OS - MAIN STYLESHEET
   Core styles, CSS reset, custom properties, and utility classes
   ============================================================================= */

/* =============================================================================
   CSS RESET & NORMALIZE
   ============================================================================= */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

*::before,
*::after {
    box-sizing: border-box;
}

html {
    height: 100%;
    /* Prevent font smoothing for crisp pixel look */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: grayscale;
    font-smooth: never;
}

body {
    height: 100%;
    overflow: hidden;
    font-family: 'MS Sans Serif', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 11px;
    line-height: 1.4;
    color: var(--win95-black);
    /* Prevent text selection on UI elements */
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
}

/* =============================================================================
   CSS CUSTOM PROPERTIES (Design System)
   ============================================================================= */

:root {
    /* Windows 95 Authentic Color Palette */
    --win95-desktop: #008080;          /* Teal desktop background */
    --win95-gray: #c0c0c0;             /* Window background / button face */
    --win95-dark-gray: #808080;        /* Shadow / border dark */
    --win95-light-gray: #dfdfdf;       /* Highlight / border light */
    --win95-white: #ffffff;            /* Brightest highlight */
    --win95-black: #000000;            /* Text and darkest shadow */
    --win95-navy: #000080;             /* Active title bar */
    --win95-navy-text: #ffffff;        /* Active title bar text */
    --win95-silver: #c0c0c0;           /* Inactive title bar */
    --win95-inactive-text: #808080;    /* Inactive title bar text */
    
    /* Selection colors */
    --win95-selection: #000080;        /* Selected item background */
    --win95-selection-text: #ffffff;   /* Selected item text */
    
    /* Shadows for 3D effect */
    --win95-shadow-dark: #000000;
    --win95-shadow-medium: #808080;
    --win95-highlight: #ffffff;
    
    /* System metrics */
    --title-bar-height: 18px;
    --taskbar-height: 28px;
    --button-padding: 2px 6px;
    --window-border-width: 2px;
    --icon-size: 32px;
    
    /* Z-index layers */
    --z-desktop: 1;
    --z-windows-base: 10;
    --z-taskbar: 1000;
    --z-start-menu: 1001;
    --z-modal: 2000;
}

/* =============================================================================
   TYPOGRAPHY
   ============================================================================= */

/* Allow text selection in text areas and inputs */
textarea,
input[type="text"],
.selectable-text {
    user-select: text;
    -webkit-user-select: text;
    -moz-user-select: text;
}

/* Pixel-perfect font rendering */
button,
input,
select,
textarea {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
}

/* =============================================================================
   UTILITY CLASSES - Win95 3D Border Effects
   ============================================================================= */

/* Outset border - for buttons and raised elements */
.win95-border-outset {
    border-style: solid;
    border-width: 2px;
    border-color: var(--win95-white) var(--win95-shadow-dark) 
                  var(--win95-shadow-dark) var(--win95-white);
    border-top-color: var(--win95-light-gray);
    border-left-color: var(--win95-light-gray);
    border-right-color: var(--win95-shadow-medium);
    border-bottom-color: var(--win95-shadow-medium);
}

/* Inset border - for pressed buttons and input fields */
.win95-border-inset {
    border-style: solid;
    border-width: 2px;
    border-color: var(--win95-shadow-dark) var(--win95-white) 
                  var(--win95-white) var(--win95-shadow-dark);
    border-top-color: var(--win95-shadow-medium);
    border-left-color: var(--win95-shadow-medium);
    border-right-color: var(--win95-light-gray);
    border-bottom-color: var(--win95-light-gray);
}

/* Window frame border - double 3D effect */
.win95-window-border {
    border: 2px solid;
    border-color: var(--win95-light-gray) var(--win95-shadow-dark) 
                  var(--win95-shadow-dark) var(--win95-light-gray);
    box-shadow: inset 1px 1px 0 var(--win95-white),
                inset -1px -1px 0 var(--win95-shadow-medium);
}

/* Flat border (no 3D effect) */
.win95-border-flat {
    border: 1px solid var(--win95-shadow-medium);
}

/* =============================================================================
   BUTTON STYLES (Base for all buttons)
   ============================================================================= */

button {
    background-color: var(--win95-gray);
    border: 2px solid;
    border-color: var(--win95-light-gray) var(--win95-shadow-medium) 
                  var(--win95-shadow-medium) var(--win95-light-gray);
    border-top-color: var(--win95-white);
    border-left-color: var(--win95-white);
    padding: var(--button-padding);
    cursor: pointer;
    outline: none;
    font-weight: normal;
    text-align: center;
    position: relative;
}

button:hover {
    /* Subtle hover effect */
    filter: brightness(1.05);
}

button:active {
    /* Inset border when clicked */
    border-color: var(--win95-shadow-medium) var(--win95-light-gray) 
                  var(--win95-light-gray) var(--win95-shadow-medium);
    border-top-color: var(--win95-shadow-dark);
    border-left-color: var(--win95-shadow-dark);
    padding: calc(var(--button-padding) + 1px) calc(var(--button-padding) - 1px) 
             calc(var(--button-padding) - 1px) calc(var(--button-padding) + 1px);
}

button:focus-visible {
    outline: 1px dotted var(--win95-black);
    outline-offset: -4px;
}

button:disabled {
    color: var(--win95-shadow-medium);
    text-shadow: 1px 1px 0 var(--win95-white);
    cursor: default;
}

/* =============================================================================
   SCROLLBAR STYLING (Win95-like)
   ============================================================================= */

::-webkit-scrollbar {
    width: 16px;
    height: 16px;
}

::-webkit-scrollbar-track {
    background: var(--win95-white);
    border: 1px solid var(--win95-shadow-medium);
}

::-webkit-scrollbar-thumb {
    background: var(--win95-gray);
    border: 2px solid;
    border-color: var(--win95-light-gray) var(--win95-shadow-medium) 
                  var(--win95-shadow-medium) var(--win95-light-gray);
}

::-webkit-scrollbar-thumb:hover {
    filter: brightness(1.05);
}

::-webkit-scrollbar-button {
    background: var(--win95-gray);
    border: 2px solid;
    border-color: var(--win95-light-gray) var(--win95-shadow-medium) 
                  var(--win95-shadow-medium) var(--win95-light-gray);
    height: 16px;
    width: 16px;
}

::-webkit-scrollbar-button:active {
    border-color: var(--win95-shadow-medium) var(--win95-light-gray) 
                  var(--win95-light-gray) var(--win95-shadow-medium);
}

/* =============================================================================
   FOCUS & SELECTION STYLES
   ============================================================================= */

::selection {
    background: var(--win95-selection);
    color: var(--win95-selection-text);
}

::-moz-selection {
    background: var(--win95-selection);
    color: var(--win95-selection-text);
}

/* Remove default focus outline, use custom dotted outline instead */
:focus {
    outline: none;
}

:focus-visible {
    outline: 1px dotted var(--win95-black);
    outline-offset: 2px;
}

/* =============================================================================
   CURSOR STYLES
   ============================================================================= */

.cursor-pointer {
    cursor: pointer;
}

.cursor-move {
    cursor: move;
}

.cursor-default {
    cursor: default;
}

.cursor-text {
    cursor: text;
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

.hidden {
    display: none !important;
}

.invisible {
    visibility: hidden !important;
}

.no-select {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
}

.text-selectable {
    user-select: text;
    -webkit-user-select: text;
    -moz-user-select: text;
}

/* Prevent dragging of images */
img {
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
    pointer-events: none;
}

/* =============================================================================
   ACCESSIBILITY
   ============================================================================= */

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Skip to main content link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--win95-navy);
    color: var(--win95-white);
    padding: 8px;
    text-decoration: none;
    z-index: 100;
}

.skip-link:focus {
    top: 0;
}

/* =============================================================================
   ANIMATIONS & TRANSITIONS
   ============================================================================= */

/* Smooth transitions for interactive elements */
button,
.desktop-icon,
.start-menu-item {
    transition: filter 0.1s ease;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
